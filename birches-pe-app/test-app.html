<!DOCTYPE html>
<html>
<head>
    <title>Test App Functions</title>
</head>
<body>
    <h1>Testing Birches PE App</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        async function testApp() {
            const tests = [];
            
            // Test 1: Check if data files load
            try {
                const [activitiesRes, standardsRes] = await Promise.all([
                    fetch('/data/activities.json'),
                    fetch('/data/standards.json')
                ]);
                
                const activities = await activitiesRes.json();
                const standards = await standardsRes.json();
                
                tests.push(`✓ Data files loaded: ${activities.activities.length} activities, ${standards.length} standards`);
            } catch (e) {
                tests.push(`✗ Data loading failed: ${e.message}`);
            }
            
            // Test 2: Check localStorage
            try {
                localStorage.setItem('test', 'value');
                const value = localStorage.getItem('test');
                localStorage.removeItem('test');
                tests.push(`✓ localStorage working`);
            } catch (e) {
                tests.push(`✗ localStorage failed: ${e.message}`);
            }
            
            // Test 3: Check Service Worker
            if ('serviceWorker' in navigator) {
                tests.push(`✓ Service Worker API available`);
            } else {
                tests.push(`✗ Service Worker not supported`);
            }
            
            // Display results
            results.innerHTML = tests.map(t => `<p>${t}</p>`).join('');
        }
        
        testApp();
    </script>
</body>
</html>